{"version":3,"file":"component---src-pages-payment-js-4f850cfa77958a72d01c.js","mappings":"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","sources":["webpack://sponsorblock/./src/utils/links.js","webpack://sponsorblock/./src/pages/payment.js","webpack://sponsorblock/./src/components/beforeAfterImage.js"],"sourcesContent":["export const extensionLinks = {\n    chrome: \"https://chrome.google.com/webstore/detail/enamippconapkdmgfgjchkhakpfinmaj\",\n    firefox: \"https://addons.mozilla.org/firefox/addon/dearrow\",\n};\n\nexport function getHashParams() {\n    if (typeof window === 'undefined') return {};\n\n    const hash = window.location.hash.slice(1);\n    return hash.split('&').reduce((acc, param) => {\n        const [key, value] = param.split('=');\n        acc[key] = parseValue(value);\n        return acc;\n    }, {});\n}\n\nfunction parseValue(value) {\n    if (value === 'true') {\n        return true;\n    } else if (value === 'false') {\n        return false;\n    } else if (Number.isFinite(value)) {\n        return Number(value);\n    }\n    return decodeURIComponent(value);\n}","import React, { useState, useEffect } from \"react\";\n\nimport Seo from \"../components/seo\";\nimport { extensionLinks } from \"../utils/links\";\nimport { getHashParams } from \"../utils/links\";\nimport BeforeAfterImage from \"../components/beforeAfterImage\";\n\nimport \"./payment.scss\";\n\nconst serverAddress = \"https://sponsor.ajay.app\";\nconst freeAccessWaitingPeriod = 1000 * 60 * 60 * 12;\nconst freeTrialDuration = 1000 * 60 * 60 * 6;\n\nconst hashParams = getHashParams();\nlet safeToSendMessages = false;\n\nif (typeof window !== \"undefined\") {\n    const inExtension = window.top !== window.self;\n    if (inExtension) {\n        window.addEventListener(\"message\", (e) => {\n            // Only allow browser extensions to do this\n            if (!safeToSendMessages && !e.origin.match(/^https?:\\/\\//) && e.data === \"dearrow-payment-page\") {\n                safeToSendMessages = true;\n\n                const choices = {\n                    freeTrial: localStorageGet(\"freeTrial\"),\n                    licenseKey: localStorageGet(\"licenseKey\"),\n                    freeAccess: localStorageGet(\"freeAccess\"),\n                    freeInstantAccess: localStorageGet(\"freeInstantAccess\"),\n                    freeAccessWaitingPeriod,\n                    freeTrialDuration\n                }\n\n                if (choices.freeTrial || choices.licenseKey || choices.freeAccess) {\n                    window.top.postMessage({\n                        message: \"dearrow-payment-page-data\",\n                        choices\n                    }, \"*\");\n\n                    localStorage.removeItem(\"freeTrial\");\n                    localStorage.removeItem(\"licenseKey\");\n                    localStorage.removeItem(\"freeAccess\");\n                    localStorage.removeItem(\"freeInstantAccess\");\n                }\n            }\n        });\n    }\n}\n\nconst PaymentsPage = () => {\n    const [showBeforeAfter, setShowBeforeAfter] = useState(false);\n    const [redeemEnabled, setRedeemEnabled] = useState(false);\n    const [showRedeem, setShowRedeem] = useState(false);\n    const [openFreeAccessModal, setOpenFreeAccessModal] = useState(false);\n    const [badPaymentMethods, setBadPaymentMethods] = useState(false);\n    const [showFreeTrial, setShowFreeTrial] = useState(false);\n    const [showRequestFreeAccessButton, setShowRequestFreeAccessButton] = useState(false);\n\n    const [inExtension, setInExtension] = useState(false);\n    const [nextPage, setNextPage] = useState(undefined);\n\n    useEffect(() => {\n        const inExtension = window.top !== window.self;\n        setInExtension(inExtension);\n\n        if (hashParams.freeTrialActive !== true) {\n            setShowFreeTrial(true);\n        }\n\n        if (!hashParams.hideRedeem) {\n            setShowRedeem(true);\n        }\n\n        if (!hashParams.hideRequestFreeAccessButton) {\n            setShowRequestFreeAccessButton(true);\n        }\n\n        if (hashParams.free) {\n            setOpenFreeAccessModal(true);\n        }\n\n        if (!inExtension) {\n            setNextPage(hashParams.link \n                ? extensionLinks[hashParams.link]\n                : (navigator.userAgent.includes(\"Firefox\") ? extensionLinks.firefox : extensionLinks.chrome));\n        }\n\n        setShowBeforeAfter(true);\n    }, []);\n\n    return (\n        <div>\n            <Seo\n                title=\"Payment\"\n            />\n\n            <div className=\"payment-container container\">\n\n                <p>\n                    <b>Please note:</b> Thumbnail and title replacements are currently broken in extension versions before 2.1.8 due to a YouTube change on the home page and related menu.\n                    It will take some time for this fix to roll out to all extension stores due to their review times.\n                </p>\n\n                <p>\n                    DeArrow is a paid (if you want) browser extension. \n                    You can purchase an unlimited-use license key for <b>1$</b>.\n                </p>\n\n                <p>\n                    However, if you cannot, or do not want to pay,{\" \"}\n                    <b>you can click the button at the bottom to use DeArrow for free</b>.\n                    No worries if you can't or don't want to pay :)\n                </p>\n\n                {showFreeTrial && \n                    <div className=\"center row-item\">\n                        <a href={nextPage}\n                            className=\"option-link side-by-side\" \n                            target=\"_blank\" \n                            rel=\"noreferrer\"\n                            onClick={() => {\n                                startFreeTrial(inExtension);\n\n                                setShowFreeTrial(false);\n                            }}>\n                            <div className=\"option-button side-by-side inline\">\n                                Start a free 6 hour trial\n                            </div>\n                        </a>\n\n                        <div className=\"free-trial-text\">\n                            No sign up or credit card required\n                            <br/>\n                            You can start another trial if you run out of time\n                        </div>\n                    </div>\n                }\n\n                <div className=\"center row-item who-am-i\">\n                    <p className=\"header\">\n                        Who am I?\n                    </p>\n\n                    <p className=\"text\">\n                        Hi, I'm Ajay.\n                        For the past 5 years, I've been working on SponsorBlock, an open-source privacy respecting browser extension and open API for skipping and identifying sponsors and other annoyances in YouTube videos.\n                        In June 2024, I launched DeArrow, an extension targeting the next biggest annoyance on YouTube.\n                    </p>\n\n                    <p className=\"text\">\n                       Last year I graduated from university and am now working on SponsorBlock and DeArrow as my full time job.\n                    </p>\n\n                    <p className=\"text\">\n                        With this paywall, I am trying to create a funding mechanism for my projects while still allowing universal access.\n                        That's why <b>if you cannot or do not want to pay, I still very much want you to be able to use DeArrow as much as anyone else using the button at the bottom.</b>{\" \"}\n                        But, if you can pay, I would really appreciate you supporting the project.\n                    </p>\n                </div>\n\n                <div className=\"center row-item\">\n                    <a href=\"https://theajayyy.itch.io/dearrow\" className=\"option-link side-by-side\" target=\"_blank\" rel=\"noreferrer\">\n                        <div id=\"oneTimePurchase\" className=\"option-button inline\">\n                            Buy for $1\n                        </div>\n                    </a>\n                </div>\n\n                {\n                    showRedeem && \n                    <div className=\"center row-item\">\n                        <input \n                            id=\"redeemCodeInput\" \n                            className=\"option-text-box\" \n                            type=\"text\" \n                            placeholder=\"Enter license key\"\n                            onChange={(e) => {\n                                setRedeemEnabled(e.target.value.length > 0);\n                            }}/>\n\n                        <a\n                            className=\"option-link\" \n                            target=\"_blank\" \n                            rel=\"noreferrer\"\n                            onClick={() => {\n                                if (!redeemEnabled) return;\n                                redeemLicenseKey(setRedeemEnabled, nextPage, inExtension);\n                            }}>\n                            <div className={\"option-button side-by-side inline\" + (!redeemEnabled ? \" disabled\" : \"\")}>\n                                Redeem\n                            </div>\n                        </a>\n                    </div>\n                }\n\n                <div className=\"flex-center\">\n                    <p className=\"smaller small-width no-top-margin\">\n                        Privacy Note: Other than intially checking your license key,{\" \"}\n                        no requests to DeArrow servers contain your license key.{\" \"}\n                        This means that fetching DeArrow data remains anonymous,{\" \"}\n                        and your DeArrow submissions cannot be linked to your payment details.\n                    </p>\n\n                    <p className=\"smaller no-margin small-width\">\n                        Already paid but lost your key? Installed during the free beta but lost your key? Email dev@ajay.app\n                    </p>\n                </div>\n\n                <br/>\n\n                <div className={\"center\" + (!showRequestFreeAccessButton ? \" hidden\" : \"\")}>\n                    <a className=\"option-link\" \n                        target=\"_blank\" \n                        rel=\"noreferrer\"\n                        onClick={() => {\n                            setOpenFreeAccessModal(true);\n                            setBadPaymentMethods(false);\n                        }}>\n                        <div className=\"option-button inline\">\n                            I can't/don't want to pay\n                        </div>\n                    </a>\n                </div>\n\n                <div className={\"center\" + (!showRequestFreeAccessButton ? \" hidden\" : \"\")}>\n                    <a className=\"option-link\" \n                        target=\"_blank\" \n                        rel=\"noreferrer\"\n                        onClick={() => {\n                            setOpenFreeAccessModal(true);\n                            setBadPaymentMethods(true);\n                        }}>\n                        <div className=\"option-button inline\">\n                            None of the payment methods work for me\n                        </div>\n                    </a>\n                </div>\n\n                <div className={\"center no-js-warning\" + (showBeforeAfter ? \" hidden\" : \"\")}>\n                    <p className=\"text\">\n                        Warning: This page is not fully functional when JavaScript is disabled\n                    </p>\n                </div>\n\n                {\n                    openFreeAccessModal && (\n                        <div className=\"free-access-modal\">\n                            <div className=\"free-access-modal-content center\">\n\n                                {\n                                    badPaymentMethods ?\n                                    <>\n                                        <p>\n                                            I really appreciate you wanting to help support the project,\n                                            but, unfortunately, I am unable to set up other payment methods at this time.\n                                            I understand that you may have privacy concerns with credit cards,\n                                            cannot pay due to sanctions or just don't have access to a credit card.\n                                        </p>\n                                        <p>\n                                            You can use the button below to use the extension for free, forever.\n                                            You'll be able to use it right away.\n                                        </p>\n                                        <p>\n                                            And if you still do want to support the project, you can check the list of{\" \"}\n                                            <a \n                                                href=\"https://dearrow.ajay.app/donate\" \n                                                target=\"_blank\" \n                                                rel=\"noreferrer\">\n                                                    donation options\n                                            </a> to see if one works for you (it has a few more options), but don't worry if you still can't :)\n                                        </p>\n\n                                        {\n                                            inExtension ?\n                                                null\n                                            : \n                                                <p>\n                                                    Install the extension to get started.\n                                                </p>\n                                        }\n                                    </>\n                                    :\n                                    <>\n                                        <p>\n                                            If you cannot, or do not want to pay, you can use the button below get \n                                            free access to DeArrow <b>after waiting up to 12 hours</b>.\n                                            After waiting, you will be able to use DeArrow for free, forever.\n                                        </p>\n\n                                        {\n                                            inExtension ?\n                                                <p>\n                                                    It will notify you when you get access.\n                                                </p>\n                                            : \n                                                <p>\n                                                    Install the extension to get started, it will notify you when you\n                                                    get access.\n                                                </p>\n                                        }\n                                    </>\n                                }\n\n                                <a href={nextPage}\n                                    className=\"option-link\" \n                                    target=\"_blank\" \n                                    rel=\"noreferrer\"\n                                    onClick={() => {\n                                        requestFreeAccess(inExtension, badPaymentMethods);\n\n                                        setOpenFreeAccessModal(false);\n                                        setShowRequestFreeAccessButton(false);\n                                    }}>\n                                    <div className=\"option-button inline\">\n                                        {\n                                            inExtension ? \"I want free access\" : \"Install extension\"\n                                        }\n                                    </div>\n                                </a>\n\n                                <br/>\n\n                                <a className=\"option-link\" \n                                    target=\"_blank\" \n                                    rel=\"noreferrer\"\n                                    onClick={() => {\n                                        setOpenFreeAccessModal(false);\n                                    }}>\n                                    <div className=\"option-button inline\">\n                                        Close\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                    )\n                }\n\n                <br/>\n\n                {\n                    showBeforeAfter &&\n                    <BeforeAfterImage\n                        image1=\"/before.png\"\n                        image2=\"/after.jpg\"\n                    />\n                }\n            </div>\n        </div>\n    );\n};\n\nfunction startFreeTrial(inExtension) {\n    if (inExtension && safeToSendMessages) {\n        window.top.postMessage({\n            message: \"dearrow-payment-page-data\",\n            choices: {\n                freeTrial: true,\n                freeTrialDuration\n            }\n        }, \"*\");\n    } else {\n        localStorageSet(\"freeTrial\", true);\n    }\n}\n\nasync function redeemLicenseKey(setRedeemEnabled, nextPage, inExtension) {\n    setRedeemEnabled(false);\n\n    const key = document.getElementById(\"redeemCodeInput\").value;\n    const allowed = await verifyLicenseKey(key);\n\n    if (!allowed) {\n        alert(\"Invalid license key\");\n        setRedeemEnabled(true);\n        return;\n    }\n\n    if (inExtension && safeToSendMessages) {\n        window.top.postMessage({\n            message: \"dearrow-payment-page-data\",\n            choices: {\n                licenseKey: key\n            }\n        }, \"*\");\n    } else {\n        localStorageSet(\"licenseKey\", key);\n\n        alert(\"Redeem successful! Now install the extension\")\n\n        window.open(nextPage, \"_blank\");\n    }\n\n    setRedeemEnabled(true);\n}\n\nasync function verifyLicenseKey(key) {\n    try {\n        const response = await fetch(`${serverAddress}/api/verifyToken?licenseKey=${key}`);\n\n        if (response.status === 200) {\n            const json = await response.json();\n            return json.allowed;\n        } else {\n            return true;\n        }\n    } catch (e) {}\n\n    return true;\n}\n\nfunction requestFreeAccess(inExtension, badPaymentMethods) {\n    if (inExtension && safeToSendMessages) {\n        window.top.postMessage({\n            message: \"dearrow-payment-page-data\",\n            choices: {\n                freeAccess: true,\n                freeInstantAccess: badPaymentMethods,\n                freeAccessWaitingPeriod\n            }\n        }, \"*\");\n    } else {\n        localStorageSet(\"freeAccess\", true);\n        localStorageSet(\"freeInstantAccess\", badPaymentMethods);\n    }\n}\n\nfunction localStorageGet(key) {\n    try {\n        const data = localStorage.getItem(key);\n        if (data === \"false\") return false;\n        return data;\n    } catch (e) {\n        return undefined;\n    }\n}\n\nfunction localStorageSet(key, value) {\n    try {\n        return localStorage.setItem(key, value);\n    } catch (e) {\n        return undefined;\n    }\n}\n\nexport default PaymentsPage;\n","import React, { useState, useEffect } from \"react\";\n\nconst BeforeAfterImage = (props) => {\n    const [position, setPosition] = useState(null);\n    const [initialAnimation, setInitialAnimation] = useState(true);\n\n    const mouseEvent = (e) => {\n        setInitialAnimation(false);\n\n        const rect = e.currentTarget.getBoundingClientRect();\n        const x = (e.clientX || e.touches[0].clientX) - rect.left;\n        setPosition(x / rect.width);\n    };\n\n    return (\n        <div onMouseMove={mouseEvent}\n            onTouchMove={mouseEvent}\n            className=\"before-after-container\">\n            <div id=\"image2\"\n                draggable=\"false\"\n                className=\"after-image\">\n                <img src={props.image2} \n                    className=\"before-after-image\" \n                    alt=\"After\" />\n            </div>\n\n            <div id=\"image1\"\n                draggable=\"false\"\n                className={\"draggable-before-image\" + (initialAnimation ? \" initial-animation\" : \"\")}\n                style={{\n                    width: position != null ? `${position * 100}%` : undefined,\n                }}>\n                <img src={props.image1} \n                    className=\"before-after-image\" \n                    alt=\"Before\" />\n            </div>\n        </div>\n    );\n};\n\nexport default BeforeAfterImage;\n"],"names":["extensionLinks","chrome","firefox","getHashParams","window","location","hash","slice","split","reduce","acc","param","key","value","Number","isFinite","decodeURIComponent","parseValue","serverAddress","freeAccessWaitingPeriod","freeTrialDuration","hashParams","safeToSendMessages","top","self","addEventListener","e","origin","match","data","choices","freeTrial","localStorageGet","licenseKey","freeAccess","freeInstantAccess","postMessage","message","localStorage","removeItem","getItem","localStorageSet","setItem","PaymentsPage","showBeforeAfter","setShowBeforeAfter","useState","redeemEnabled","setRedeemEnabled","showRedeem","setShowRedeem","openFreeAccessModal","setOpenFreeAccessModal","badPaymentMethods","setBadPaymentMethods","showFreeTrial","setShowFreeTrial","showRequestFreeAccessButton","setShowRequestFreeAccessButton","inExtension","setInExtension","nextPage","setNextPage","undefined","useEffect","freeTrialActive","hideRedeem","hideRequestFreeAccessButton","free","link","navigator","userAgent","includes","React","Seo","title","className","href","target","rel","onClick","startFreeTrial","id","type","placeholder","onChange","length","async","document","getElementById","response","fetch","status","json","allowed","verifyLicenseKey","alert","open","redeemLicenseKey","requestFreeAccess","BeforeAfterImage","image1","image2","props","position","setPosition","initialAnimation","setInitialAnimation","mouseEvent","rect","currentTarget","getBoundingClientRect","x","clientX","touches","left","width","onMouseMove","onTouchMove","draggable","src","alt","style"],"sourceRoot":""}