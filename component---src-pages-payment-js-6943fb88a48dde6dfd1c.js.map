{"version":3,"file":"component---src-pages-payment-js-6943fb88a48dde6dfd1c.js","mappings":"+HAwCA,IAtC0BA,IACtB,MAAM,EAACC,EAAS,EAACC,IAAeC,EAAAA,EAAAA,UAAS,OACnC,EAACC,EAAiB,EAACC,IAAuBF,EAAAA,EAAAA,WAAS,GAEnDG,EAAcC,IAChBF,GAAoB,GAEpB,MAAMG,EAAOD,EAAEE,cAAcC,wBACvBC,GAAKJ,EAAEK,SAAWL,EAAEM,QAAQ,GAAGD,SAAWJ,EAAKM,KACrDZ,EAAYS,EAAIH,EAAKO,MAAM,EAG/B,OACIC,EAAAA,cAAA,OAAKC,YAAaX,EACdY,YAAaZ,EACba,UAAU,0BACVH,EAAAA,cAAA,OAAKI,GAAG,SACJC,UAAU,QACVF,UAAU,eACVH,EAAAA,cAAA,OAAKM,IAAKtB,EAAMuB,OACZJ,UAAU,qBACVK,IAAI,WAGZR,EAAAA,cAAA,OAAKI,GAAG,SACJC,UAAU,QACVF,UAAW,0BAA4Bf,EAAmB,qBAAuB,IACjFqB,MAAO,CACHV,MAAmB,MAAZd,EAAiC,IAAXA,EAAc,SAAMyB,IAErDV,EAAAA,cAAA,OAAKM,IAAKtB,EAAM2B,OACZR,UAAU,qBACVK,IAAI,YAEV,C,yEC3Bd,MAAMI,EAAgB,2BAChBC,EAA0B,MAE1BC,GAAaC,EAAAA,EAAAA,KACnB,IAAIC,GAAqB,EAEzB,GAAsB,oBAAXC,OAAwB,CACXA,OAAOC,MAAQD,OAAOE,MAEtCF,OAAOG,iBAAiB,WAAY7B,IAEhC,IAAKyB,IAAuBzB,EAAE8B,OAAOC,MAAM,iBAA8B,yBAAX/B,EAAEgC,KAAiC,CAC7FP,GAAqB,EAErB,MAAMQ,EAAU,CACZC,UAAWC,EAAgB,aAC3BC,WAAYD,EAAgB,cAC5BE,WAAYF,EAAgB,cAC5Bb,4BAGAW,EAAQC,WAAaD,EAAQG,YAAcH,EAAQI,cACnDX,OAAOC,IAAIW,YAAY,CACnBC,QAAS,4BACTN,WACD,KAEHO,aAAaC,WAAW,aACxBD,aAAaC,WAAW,cACxBD,aAAaC,WAAW,cAEhC,IAGZ,CAyWA,SAASN,EAAgBO,GACrB,IACI,OAAOF,aAAaG,QAAQD,EAChC,CAAE,MAAO1C,GACL,MACJ,CACJ,CAEA,SAAS4C,EAAgBF,EAAKG,GAC1B,IACI,OAAOL,aAAaM,QAAQJ,EAAKG,EACrC,CAAE,MAAO7C,GACL,MACJ,CACJ,CAEA,UAvXqB+C,KACjB,MAAM,EAACC,EAAgB,EAACC,IAAsBrD,EAAAA,EAAAA,WAAS,IACjD,EAACsD,EAAc,EAACC,IAAoBvD,EAAAA,EAAAA,WAAS,IAC7C,EAACwD,EAAW,EAACC,IAAiBzD,EAAAA,EAAAA,WAAS,IACvC,EAAC0D,EAAoB,EAACC,IAA0B3D,EAAAA,EAAAA,WAAS,IACzD,EAAC4D,EAAkB,EAACC,IAAwB7D,EAAAA,EAAAA,WAAS,IACrD,EAAC8D,EAAc,EAACC,IAAoB/D,EAAAA,EAAAA,WAAS,IAC7C,EAACgE,EAA4B,EAACC,IAAkCjE,EAAAA,EAAAA,WAAS,IAEzE,EAACkE,EAAY,EAACC,IAAkBnE,EAAAA,EAAAA,WAAS,IACzC,EAACoE,EAAS,EAACC,IAAerE,EAAAA,EAAAA,eAASuB,GA+BzC,OA7BA+C,EAAAA,EAAAA,YAAU,KACN,MAAMJ,EAAcpC,OAAOC,MAAQD,OAAOE,KAC1CmC,EAAeD,GAEVvC,EAAW4C,eAAkBhC,EAAgB,kBAC9CwB,GAAiB,GAGhBpC,EAAW6C,YACZf,GAAc,GAGb9B,EAAW8C,6BACZR,GAA+B,GAG/BtC,EAAW+C,MACXf,GAAuB,GAGtBO,GACDG,EAAY1C,EAAWgD,KACjBC,EAAAA,EAAejD,EAAWgD,MACzBE,UAAUC,UAAUC,SAAS,WAAaH,EAAAA,EAAeI,QAAUJ,EAAAA,EAAeK,QAG7F5B,GAAmB,EAAK,GACzB,IAGCxC,EAAAA,cAAA,WACIA,EAAAA,cAACqE,EAAAA,EAAG,CACAC,MAAM,YAGVtE,EAAAA,cAAA,OAAKG,UAAU,+BACXH,EAAAA,cAAA,SAAG,0FAEmDA,EAAAA,cAAA,SAAG,MAAM,KAG/DA,EAAAA,cAAA,SAAG,iDACgD,IAC/CA,EAAAA,cAAA,SAAG,0DAA0D,qDAIhEiD,GACGjD,EAAAA,cAAA,OAAKG,UAAU,mBACXH,EAAAA,cAAA,KAAGuE,KAAMhB,EACLpD,UAAU,2BACVqE,OAAO,SACPC,IAAI,aACJC,QAASA,MA4NrC,SAAwBrB,GAChBA,GAAerC,EACfC,OAAOC,IAAIW,YAAY,CACnBC,QAAS,4BACTN,QAAS,CACLC,WAAW,IAEhB,KAEHU,EAAgB,aAAa,GAGjCA,EAAgB,iBAAiB,EACrC,CAxOgCwC,CAAetB,GAEfH,GAAiB,EAAM,GAE3BlD,EAAAA,cAAA,OAAKG,UAAU,qCAAoC,2BAKvDH,EAAAA,cAAA,OAAKG,UAAU,mBAAkB,uCAMzCH,EAAAA,cAAA,OAAKG,UAAU,4BACXH,EAAAA,cAAA,KAAGG,UAAU,UAAS,aAItBH,EAAAA,cAAA,KAAGG,UAAU,QAAO,oTAMpBH,EAAAA,cAAA,KAAGG,UAAU,QAAO,mOAKpBH,EAAAA,cAAA,KAAGG,UAAU,QAAO,kIAELH,EAAAA,cAAA,SAAG,oJAAqJ,IAAI,+EAK/KA,EAAAA,cAAA,OAAKG,UAAU,mBACXH,EAAAA,cAAA,KAAGuE,KAAK,oCAAoCpE,UAAU,2BAA2BqE,OAAO,SAASC,IAAI,cACjGzE,EAAAA,cAAA,OAAKI,GAAG,kBAAkBD,UAAU,wBAAuB,gBAO/DwC,GACA3C,EAAAA,cAAA,OAAKG,UAAU,mBACXH,EAAAA,cAAA,SACII,GAAG,kBACHD,UAAU,kBACVyE,KAAK,OACLC,YAAY,oBACZC,SAAWvF,IACPmD,EAAiBnD,EAAEiF,OAAOpC,MAAM2C,OAAS,EAAE,IAGnD/E,EAAAA,cAAA,KACIG,UAAU,cACVqE,OAAO,SACPC,IAAI,aACJC,QAASA,KACAjC,GA2KrCuC,eAAgCtC,EAAkBa,EAAUF,GACxDX,GAAiB,GAEjB,MAAMT,EAAMgD,SAASC,eAAe,mBAAmB9C,MAGvD,UAwBJ4C,eAAgC/C,GAC5B,IACI,MAAMkD,QAAiBC,MAASxE,EAAa,+BAA+BqB,GAE5E,GAAwB,MAApBkD,EAASE,OAAgB,CAEzB,aADmBF,EAASG,QAChBC,OAChB,CACI,OAAO,CAEf,CAAE,MAAOhG,GAAI,CAEb,OAAO,CACX,CAvC0BiG,CAAiBvD,GAKnC,OAFAwD,MAAM,4BACN/C,GAAiB,GAIjBW,GAAerC,EACfC,OAAOC,IAAIW,YAAY,CACnBC,QAAS,4BACTN,QAAS,CACLG,WAAYM,IAEjB,MAEHE,EAAgB,aAAcF,GAE9BwD,MAAM,gDAENxE,OAAOyE,KAAKnC,EAAU,WAG1Bb,GAAiB,EACrB,CAtMgCiD,CAAiBjD,EAAkBa,EAAUF,EAAY,GAE7DrD,EAAAA,cAAA,OAAKG,UAAW,qCAAwCsC,EAA8B,GAAd,cAAmB,YAOvGzC,EAAAA,cAAA,OAAKG,UAAU,eACXH,EAAAA,cAAA,KAAGG,UAAU,qCAAoC,+DACgB,IAAI,2DACR,IAAI,2DACJ,IAAI,0EAIjEH,EAAAA,cAAA,KAAGG,UAAU,iCAAgC,yGAKjDH,EAAAA,cAAA,WAEAA,EAAAA,cAAA,OAAKG,UAAW,UAAagD,EAA0C,GAAZ,YACvDnD,EAAAA,cAAA,KAAGG,UAAU,cACTqE,OAAO,SACPC,IAAI,aACJC,QAASA,KACL5B,GAAuB,GACvBE,GAAqB,EAAM,GAE/BhD,EAAAA,cAAA,OAAKG,UAAU,wBAAuB,+BAM9CH,EAAAA,cAAA,OAAKG,UAAW,UAAagD,EAA0C,GAAZ,YACvDnD,EAAAA,cAAA,KAAGG,UAAU,cACTqE,OAAO,SACPC,IAAI,aACJC,QAASA,KACL5B,GAAuB,GACvBE,GAAqB,EAAK,GAE9BhD,EAAAA,cAAA,OAAKG,UAAU,wBAAuB,6CAM9CH,EAAAA,cAAA,OAAKG,UAAW,wBAA0BoC,EAAkB,UAAY,KACpEvC,EAAAA,cAAA,KAAGG,UAAU,QAAO,2EAMpB0C,GACI7C,EAAAA,cAAA,OAAKG,UAAU,qBACXH,EAAAA,cAAA,OAAKG,UAAU,oCAGP4C,EACA/C,EAAAA,cAAAA,EAAAA,SAAA,KACIA,EAAAA,cAAA,SAAG,wRAMHA,EAAAA,cAAA,SAAG,2GAE+BA,EAAAA,cAAA,SAAG,6BAA6B,0FAGlEA,EAAAA,cAAA,SAAG,6EAC4E,IAC3EA,EAAAA,cAAA,KACIuE,KAAK,kCACLC,OAAO,SACPC,IAAI,cAAa,oBAEjB,oGAIZzE,EAAAA,cAAA,SAAG,sMAGgDA,EAAAA,cAAA,SAAG,6BAA6B,KAKnFqD,EACIrD,EAAAA,cAAA,SAAG,2CAIHA,EAAAA,cAAA,SAAG,iFAMXA,EAAAA,cAAA,KAAGuE,KAAMhB,EACLpD,UAAU,cACVqE,OAAO,SACPC,IAAI,aACJC,QAASA,MAwG7C,SAA2BrB,GACnBA,GAAerC,EACfC,OAAOC,IAAIW,YAAY,CACnBC,QAAS,4BACTN,QAAS,CACLI,YAAY,EACZf,4BAEL,KAEHsB,EAAgB,cAAc,EAEtC,CAnHwCyD,CAAkBvC,GAElBP,GAAuB,GACvBM,GAA+B,EAAM,GAEzCpD,EAAAA,cAAA,OAAKG,UAAU,wBAEPkD,EAAc,qBAAuB,sBAKjDrD,EAAAA,cAAA,WAEAA,EAAAA,cAAA,KAAGG,UAAU,cACTqE,OAAO,SACPC,IAAI,aACJC,QAASA,KACL5B,GAAuB,EAAM,GAEjC9C,EAAAA,cAAA,OAAKG,UAAU,wBAAuB,YAS1DH,EAAAA,cAAA,WAGIuC,GACAvC,EAAAA,cAAC6F,EAAAA,EAAgB,CACblF,OAAO,cACPJ,OAAO,gBAIjB,C,8ECtUP,MAAMwD,EAAiB,CAC1BK,OAAQ,6EACRD,QAAS,oDAGN,SAASpD,IACZ,GAAsB,oBAAXE,OAAwB,MAAO,CAAC,EAG3C,OADaA,OAAO6E,SAASC,KAAKC,MAAM,GAC5BC,MAAM,KAAKC,QAAO,CAACC,EAAKC,KAChC,MAAOnE,EAAKG,GAASgE,EAAMH,MAAM,KAEjC,OADAE,EAAIlE,GAKZ,SAAoBG,GAChB,GAAc,SAAVA,EACA,OAAO,EACJ,GAAc,UAAVA,EACP,OAAO,EACJ,GAAIiE,OAAOC,SAASlE,GACvB,OAAOiE,OAAOjE,GAElB,OAAOmE,mBAAmBnE,EAC9B,CAdmBoE,CAAWpE,GACf+D,CAAG,GACX,CAAC,EACR,C","sources":["webpack://sponsorblock/./src/components/beforeAfterImage.js","webpack://sponsorblock/./src/pages/payment.js","webpack://sponsorblock/./src/utils/links.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst BeforeAfterImage = (props) => {\n    const [position, setPosition] = useState(null);\n    const [initialAnimation, setInitialAnimation] = useState(true);\n\n    const mouseEvent = (e) => {\n        setInitialAnimation(false);\n\n        const rect = e.currentTarget.getBoundingClientRect();\n        const x = (e.clientX || e.touches[0].clientX) - rect.left;\n        setPosition(x / rect.width);\n    };\n\n    return (\n        <div onMouseMove={mouseEvent}\n            onTouchMove={mouseEvent}\n            className=\"before-after-container\">\n            <div id=\"image2\"\n                draggable=\"false\"\n                className=\"after-image\">\n                <img src={props.image2} \n                    className=\"before-after-image\" \n                    alt=\"After\" />\n            </div>\n\n            <div id=\"image1\"\n                draggable=\"false\"\n                className={\"draggable-before-image\" + (initialAnimation ? \" initial-animation\" : \"\")}\n                style={{\n                    width: position != null ? `${position * 100}%` : undefined,\n                }}>\n                <img src={props.image1} \n                    className=\"before-after-image\" \n                    alt=\"Before\" />\n            </div>\n        </div>\n    );\n};\n\nexport default BeforeAfterImage;\n","import React, { useState, useEffect } from \"react\";\n\nimport Seo from \"../components/seo\";\nimport { extensionLinks } from \"../utils/links\";\nimport { getHashParams } from \"../utils/links\";\nimport BeforeAfterImage from \"../components/beforeAfterImage\";\n\nimport \"./payment.scss\";\n\nconst serverAddress = \"https://sponsor.ajay.app\";\nconst freeAccessWaitingPeriod = 1000 * 60 * 60 * 12\n\nconst hashParams = getHashParams();\nlet safeToSendMessages = false;\n\nif (typeof window !== \"undefined\") {\n    const inExtension = window.top !== window.self;\n    if (inExtension) {\n        window.addEventListener(\"message\", (e) => {\n            // Only allow browser extensions to do this\n            if (!safeToSendMessages && !e.origin.match(/^https?:\\/\\//) && e.data === \"dearrow-payment-page\") {\n                safeToSendMessages = true;\n\n                const choices = {\n                    freeTrial: localStorageGet(\"freeTrial\"),\n                    licenseKey: localStorageGet(\"licenseKey\"),\n                    freeAccess: localStorageGet(\"freeAccess\"),\n                    freeAccessWaitingPeriod\n                }\n\n                if (choices.freeTrial || choices.licenseKey || choices.freeAccess) {\n                    window.top.postMessage({\n                        message: \"dearrow-payment-page-data\",\n                        choices\n                    }, \"*\");\n\n                    localStorage.removeItem(\"freeTrial\");\n                    localStorage.removeItem(\"licenseKey\");\n                    localStorage.removeItem(\"freeAccess\");\n                }\n            }\n        });\n    }\n}\n\nconst PaymentsPage = () => {\n    const [showBeforeAfter, setShowBeforeAfter] = useState(false);\n    const [redeemEnabled, setRedeemEnabled] = useState(false);\n    const [showRedeem, setShowRedeem] = useState(false);\n    const [openFreeAccessModal, setOpenFreeAccessModal] = useState(false);\n    const [badPaymentMethods, setBadPaymentMethods] = useState(false);\n    const [showFreeTrial, setShowFreeTrial] = useState(false);\n    const [showRequestFreeAccessButton, setShowRequestFreeAccessButton] = useState(false);\n\n    const [inExtension, setInExtension] = useState(false);\n    const [nextPage, setNextPage] = useState(undefined);\n\n    useEffect(() => {\n        const inExtension = window.top !== window.self;\n        setInExtension(inExtension);\n\n        if (!hashParams.hideFreeTrial && !localStorageGet(\"usedFreeTrial\")) {\n            setShowFreeTrial(true);\n        }\n\n        if (!hashParams.hideRedeem) {\n            setShowRedeem(true);\n        }\n\n        if (!hashParams.hideRequestFreeAccessButton) {\n            setShowRequestFreeAccessButton(true);\n        }\n\n        if (hashParams.free) {\n            setOpenFreeAccessModal(true);\n        }\n\n        if (!inExtension) {\n            setNextPage(hashParams.link \n                ? extensionLinks[hashParams.link]\n                : (navigator.userAgent.includes(\"Firefox\") ? extensionLinks.firefox : extensionLinks.chrome));\n        }\n\n        setShowBeforeAfter(true);\n    }, []);\n\n    return (\n        <div>\n            <Seo\n                title=\"Payment\"\n            />\n\n            <div className=\"payment-container container\">\n                <p>\n                    DeArrow is a paid browser extension. \n                    You can purchase an unlimited-use license key for <b>1$</b>.\n                </p>\n\n                <p>\n                    However, if you cannot, or do not want to pay,{\" \"}\n                    <b>click the button at the bottom to use DeArrow for free</b>.\n                    No worries if you can't or don't want to pay :)\n                </p>\n\n                {showFreeTrial && \n                    <div className=\"center row-item\">\n                        <a href={nextPage}\n                            className=\"option-link side-by-side\" \n                            target=\"_blank\" \n                            rel=\"noreferrer\"\n                            onClick={() => {\n                                startFreeTrial(inExtension);\n\n                                setShowFreeTrial(false);\n                            }}>\n                            <div className=\"option-button side-by-side inline\">\n                                Try it out for an hour\n                            </div>\n                        </a>\n\n                        <div className=\"free-trial-text\">\n                            No sign up or credit card required\n                        </div>\n                    </div>\n                }\n\n                <div className=\"center row-item who-am-i\">\n                    <p className=\"header\">\n                        Who am I?\n                    </p>\n\n                    <p className=\"text\">\n                        Hi, I'm Ajay.\n                        For the last 4 years, I've been working on SponsorBlock, an open-source privacy respecting browser extension and open API for skipping and identifying sponsors and other annoyances in YouTube videos.\n                        In June, I launched DeArrow, an extension targeting the next biggest annoyance on YouTube.\n                    </p>\n\n                    <p className=\"text\">\n                        In January 2024, I will be graduating from university and hope to make SponsorBlock, DeArrow and future open-source user-focused tools my full time job.\n                        This DeArrow paywall is how I believe I'm going to make that possible.\n                    </p>\n\n                    <p className=\"text\">\n                        With this paywall, I am trying to create a funding mechanism for my projects while still allowing universal access.\n                        That's why <b>if you cannot or do not want to pay, I still very much want you to be able to use DeArrow as much as anyone else using the button at the bottom.</b>{\" \"}\n                        But, if you can pay, I would really appreciate you supporting the project.\n                    </p>\n                </div>\n\n                <div className=\"center row-item\">\n                    <a href=\"https://theajayyy.itch.io/dearrow\" className=\"option-link side-by-side\" target=\"_blank\" rel=\"noreferrer\">\n                        <div id=\"oneTimePurchase\" className=\"option-button inline\">\n                            Buy for $1\n                        </div>\n                    </a>\n                </div>\n\n                {\n                    showRedeem && \n                    <div className=\"center row-item\">\n                        <input \n                            id=\"redeemCodeInput\" \n                            className=\"option-text-box\" \n                            type=\"text\" \n                            placeholder=\"Enter license key\"\n                            onChange={(e) => {\n                                setRedeemEnabled(e.target.value.length > 0);\n                            }}/>\n\n                        <a\n                            className=\"option-link\" \n                            target=\"_blank\" \n                            rel=\"noreferrer\"\n                            onClick={() => {\n                                if (!redeemEnabled) return;\n                                redeemLicenseKey(setRedeemEnabled, nextPage, inExtension);\n                            }}>\n                            <div className={\"option-button side-by-side inline\" + (!redeemEnabled ? \" disabled\" : \"\")}>\n                                Redeem\n                            </div>\n                        </a>\n                    </div>\n                }\n\n                <div className=\"flex-center\">\n                    <p className=\"smaller small-width no-top-margin\">\n                        Privacy Note: Other than intially checking your license key,{\" \"}\n                        no requests to DeArrow servers contain your license key.{\" \"}\n                        This means that fetching DeArrow data remains anonymous,{\" \"}\n                        and your DeArrow submissions cannot be linked to your payment details.\n                    </p>\n\n                    <p className=\"smaller no-margin small-width\">\n                        Already paid but lost your key? Installed during the free beta but lost your key? Email dev@ajay.app\n                    </p>\n                </div>\n\n                <br/>\n\n                <div className={\"center\" + (!showRequestFreeAccessButton ? \" hidden\" : \"\")}>\n                    <a className=\"option-link\" \n                        target=\"_blank\" \n                        rel=\"noreferrer\"\n                        onClick={() => {\n                            setOpenFreeAccessModal(true);\n                            setBadPaymentMethods(false);\n                        }}>\n                        <div className=\"option-button inline\">\n                            I can't/don't want to pay\n                        </div>\n                    </a>\n                </div>\n\n                <div className={\"center\" + (!showRequestFreeAccessButton ? \" hidden\" : \"\")}>\n                    <a className=\"option-link\" \n                        target=\"_blank\" \n                        rel=\"noreferrer\"\n                        onClick={() => {\n                            setOpenFreeAccessModal(true);\n                            setBadPaymentMethods(true);\n                        }}>\n                        <div className=\"option-button inline\">\n                            None of the payment methods work for me\n                        </div>\n                    </a>\n                </div>\n\n                <div className={\"center no-js-warning\" + (showBeforeAfter ? \" hidden\" : \"\")}>\n                    <p className=\"text\">\n                        Warning: This page is not fully functional when JavaScript is disabled\n                    </p>\n                </div>\n\n                {\n                    openFreeAccessModal && (\n                        <div className=\"free-access-modal\">\n                            <div className=\"free-access-modal-content center\">\n\n                                {\n                                    badPaymentMethods ?\n                                    <>\n                                        <p>\n                                            I really appreciate you wanting to help support the project,\n                                            but, unfortunetly, I am unable to set up other payment methods at this time.\n                                            I understand that you may have privacy concerns with credit cards,\n                                            cannot pay due to sanctions or just don't have access to a credit card.\n                                        </p>\n                                        <p>\n                                            You can use the button below to request free access (that lasts forever),\n                                            but you'll have to wait up to <b>24 hours after installing</b> to use it.\n                                            If you want to speed this up, feel free to send me an email dev @ ajay.app\n                                        </p>\n                                        <p>\n                                            And if you still do want to support the project, you can check the list of{\" \"}\n                                            <a \n                                                href=\"https://dearrow.ajay.app/donate\" \n                                                target=\"_blank\" \n                                                rel=\"noreferrer\">\n                                                    donation options\n                                            </a> to see if one works for you (it has a few more options), but don't worry if you still can't :)\n                                        </p>\n                                    </>\n                                    :\n                                    <p>\n                                        If you cannot, or do not want to pay, you can use DeArrow after waiting some time.\n                                        You will not be able to use DeArrow right away, but instead will\n                                        recieve free access (that lasts forever) up to <b>24 hours after installing</b>.\n                                    </p>\n                                }\n\n                                {\n                                    inExtension ?\n                                        <p>\n                                            It will notify you when you get access.\n                                        </p>\n                                    : \n                                        <p>\n                                            Install the extension to get started, it will notify you when you\n                                            get access.\n                                        </p>\n                                }\n                                    \n                                <a href={nextPage}\n                                    className=\"option-link\" \n                                    target=\"_blank\" \n                                    rel=\"noreferrer\"\n                                    onClick={() => {\n                                        requestFreeAccess(inExtension);\n\n                                        setOpenFreeAccessModal(false);\n                                        setShowRequestFreeAccessButton(false);\n                                    }}>\n                                    <div className=\"option-button inline\">\n                                        {\n                                            inExtension ? \"I want free access\" : \"Install extension\"\n                                        }\n                                    </div>\n                                </a>\n\n                                <br/>\n\n                                <a className=\"option-link\" \n                                    target=\"_blank\" \n                                    rel=\"noreferrer\"\n                                    onClick={() => {\n                                        setOpenFreeAccessModal(false);\n                                    }}>\n                                    <div className=\"option-button inline\">\n                                        Close\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                    )\n                }\n\n                <br/>\n\n                {\n                    showBeforeAfter &&\n                    <BeforeAfterImage\n                        image1=\"/before.png\"\n                        image2=\"/after.jpg\"\n                    />\n                }\n            </div>\n        </div>\n    );\n};\n\nfunction startFreeTrial(inExtension) {\n    if (inExtension && safeToSendMessages) {\n        window.top.postMessage({\n            message: \"dearrow-payment-page-data\",\n            choices: {\n                freeTrial: true\n            }\n        }, \"*\");\n    } else {\n        localStorageSet(\"freeTrial\", true);\n    }\n\n    localStorageSet(\"usedFreeTrial\", true);\n}\n\nasync function redeemLicenseKey(setRedeemEnabled, nextPage, inExtension) {\n    setRedeemEnabled(false);\n\n    const key = document.getElementById(\"redeemCodeInput\").value;\n    const allowed = await verifyLicenseKey(key);\n\n    if (!allowed) {\n        alert(\"Invalid license key\");\n        setRedeemEnabled(true);\n        return;\n    }\n\n    if (inExtension && safeToSendMessages) {\n        window.top.postMessage({\n            message: \"dearrow-payment-page-data\",\n            choices: {\n                licenseKey: key\n            }\n        }, \"*\");\n    } else {\n        localStorageSet(\"licenseKey\", key);\n\n        alert(\"Redeem successful! Now install the extension\")\n\n        window.open(nextPage, \"_blank\");\n    }\n\n    setRedeemEnabled(true);\n}\n\nasync function verifyLicenseKey(key) {\n    try {\n        const response = await fetch(`${serverAddress}/api/verifyToken?licenseKey=${key}`);\n\n        if (response.status === 200) {\n            const json = await response.json();\n            return json.allowed;\n        } else {\n            return true;\n        }\n    } catch (e) {}\n\n    return true;\n}\n\nfunction requestFreeAccess(inExtension) {\n    if (inExtension && safeToSendMessages) {\n        window.top.postMessage({\n            message: \"dearrow-payment-page-data\",\n            choices: {\n                freeAccess: true,\n                freeAccessWaitingPeriod\n            }\n        }, \"*\");\n    } else {\n        localStorageSet(\"freeAccess\", true);\n    }\n}\n\nfunction localStorageGet(key) {\n    try {\n        return localStorage.getItem(key);\n    } catch (e) {\n        return undefined;\n    }\n}\n\nfunction localStorageSet(key, value) {\n    try {\n        return localStorage.setItem(key, value);\n    } catch (e) {\n        return undefined;\n    }\n}\n\nexport default PaymentsPage;\n","export const extensionLinks = {\n    chrome: \"https://chrome.google.com/webstore/detail/enamippconapkdmgfgjchkhakpfinmaj\",\n    firefox: \"https://addons.mozilla.org/firefox/addon/dearrow\",\n};\n\nexport function getHashParams() {\n    if (typeof window === 'undefined') return {};\n\n    const hash = window.location.hash.slice(1);\n    return hash.split('&').reduce((acc, param) => {\n        const [key, value] = param.split('=');\n        acc[key] = parseValue(value);\n        return acc;\n    }, {});\n}\n\nfunction parseValue(value) {\n    if (value === 'true') {\n        return true;\n    } else if (value === 'false') {\n        return false;\n    } else if (Number.isFinite(value)) {\n        return Number(value);\n    }\n    return decodeURIComponent(value);\n}"],"names":["props","position","setPosition","useState","initialAnimation","setInitialAnimation","mouseEvent","e","rect","currentTarget","getBoundingClientRect","x","clientX","touches","left","width","React","onMouseMove","onTouchMove","className","id","draggable","src","image2","alt","style","undefined","image1","serverAddress","freeAccessWaitingPeriod","hashParams","getHashParams","safeToSendMessages","window","top","self","addEventListener","origin","match","data","choices","freeTrial","localStorageGet","licenseKey","freeAccess","postMessage","message","localStorage","removeItem","key","getItem","localStorageSet","value","setItem","PaymentsPage","showBeforeAfter","setShowBeforeAfter","redeemEnabled","setRedeemEnabled","showRedeem","setShowRedeem","openFreeAccessModal","setOpenFreeAccessModal","badPaymentMethods","setBadPaymentMethods","showFreeTrial","setShowFreeTrial","showRequestFreeAccessButton","setShowRequestFreeAccessButton","inExtension","setInExtension","nextPage","setNextPage","useEffect","hideFreeTrial","hideRedeem","hideRequestFreeAccessButton","free","link","extensionLinks","navigator","userAgent","includes","firefox","chrome","Seo","title","href","target","rel","onClick","startFreeTrial","type","placeholder","onChange","length","async","document","getElementById","response","fetch","status","json","allowed","verifyLicenseKey","alert","open","redeemLicenseKey","requestFreeAccess","BeforeAfterImage","location","hash","slice","split","reduce","acc","param","Number","isFinite","decodeURIComponent","parseValue"],"sourceRoot":""}